# å­¦ç±å¼‚åŠ¨æ¨¡å—éƒ¨ç½²æ¸…å•

## âœ… å·²å®Œæˆçš„å·¥ä½œ

### åç«¯ (Backend)
- [x] åˆ›å»º `StudentStatusChange` å®ä½“ç±»
- [x] åˆ›å»º `StudentStatusChangeMapper` æ¥å£
- [x] åœ¨ `BackendController` ä¸­æ·»åŠ  6 ä¸ª API æ¥å£
  - [x] `POST /backend/status-change/apply` - æäº¤ç”³è¯·
  - [x] `GET /backend/status-change/list` - è·å–åˆ—è¡¨ï¼ˆç®¡ç†å‘˜ï¼‰
  - [x] `GET /backend/status-change/my-list` - è·å–æˆ‘çš„ç”³è¯·
  - [x] `POST /backend/status-change/approve` - å®¡æ ¸ç”³è¯·
  - [x] `DELETE /backend/status-change/delete` - åˆ é™¤ç”³è¯·
  - [x] `GET /backend/status-change/statistics` - è·å–ç»Ÿè®¡

### å‰ç«¯ (Frontend)
- [x] æ›´æ–° `src/api/campus.js` - æ·»åŠ å­¦ç”Ÿç«¯ API
- [x] æ›´æ–° `src/api/admin.js` - æ·»åŠ ç®¡ç†ç«¯ API
- [x] åˆ›å»º `src/views/campus/StatusChange.vue` - å­¦ç”Ÿç”³è¯·é¡µé¢
- [x] åˆ›å»º `src/views/admin/StudentStatusManagement.vue` - ç®¡ç†é¡µé¢
- [x] æ›´æ–° `src/views/Layout.vue` - æ·»åŠ å­¦ç”Ÿèœå•
- [x] æ›´æ–° `src/views/admin/Layout.vue` - æ·»åŠ ç®¡ç†å‘˜èœå•
- [x] æ›´æ–° `src/router/index.js` - æ·»åŠ è·¯ç”±é…ç½®

### æ•°æ®åº“ (Database)
- [x] åˆ›å»ºå»ºè¡¨è„šæœ¬ `add_student_status_change_table.sql`
- [x] åˆ›å»ºæƒé™é…ç½®è„šæœ¬ `add_status_change_permissions.sql`

### æ–‡æ¡£ (Documentation)
- [x] åˆ›å»ºå®Œæ•´å®ç°è¯´æ˜æ–‡æ¡£
- [x] åˆ›å»ºéƒ¨ç½²æ¸…å•

## ğŸ“‹ å¾…æ‰§è¡Œçš„éƒ¨ç½²æ­¥éª¤

### æ­¥éª¤ 1: æ•°æ®åº“åˆå§‹åŒ–
```bash
# è¿æ¥åˆ° MySQL
mysql -u root -p

# æ‰§è¡Œå»ºè¡¨è„šæœ¬
USE education_platform;
source E:/shixun/backend/database/add_student_status_change_table.sql;

# å¦‚æœä½¿ç”¨æƒé™ç³»ç»Ÿï¼Œæ‰§è¡Œæƒé™è„šæœ¬
source E:/shixun/backend/database/add_status_change_permissions.sql;
```

### æ­¥éª¤ 2: åç«¯éƒ¨ç½²
```bash
# è¿›å…¥åç«¯é¡¹ç›®ç›®å½•
cd E:/shixun/backend

# ç¼–è¯‘é¡¹ç›®
mvn clean compile

# è¿è¡Œé¡¹ç›®ï¼ˆæ ¹æ®ä½ çš„å¯åŠ¨æ–¹å¼ï¼‰
mvn spring-boot:run
# æˆ–è€…
java -jar target/education-platform.jar
```

### æ­¥éª¤ 3: å‰ç«¯éƒ¨ç½²
```bash
# è¿›å…¥å‰ç«¯é¡¹ç›®ç›®å½•
cd E:/shixun/frontend

# å®‰è£…ä¾èµ–ï¼ˆå¦‚æœéœ€è¦ï¼‰
npm install

# å¼€å‘ç¯å¢ƒè¿è¡Œ
npm run dev

# æˆ–è€…ç”Ÿäº§ç¯å¢ƒæ„å»º
npm run build
```

### æ­¥éª¤ 4: åŠŸèƒ½æµ‹è¯•

#### æµ‹è¯• 1: å­¦ç”Ÿæäº¤ç”³è¯·
1. ä½¿ç”¨å­¦ç”Ÿè´¦å·ç™»å½•
2. è®¿é—® `/campus/status-change`
3. ç‚¹å‡»"æ–°å»ºç”³è¯·"
4. å¡«å†™è¡¨å•å¹¶æäº¤
5. éªŒè¯åˆ—è¡¨ä¸­æ˜¾ç¤ºæ–°ç”³è¯·

#### æµ‹è¯• 2: ç®¡ç†å‘˜å®¡æ ¸
1. ä½¿ç”¨ç®¡ç†å‘˜è´¦å·ç™»å½•
2. è®¿é—® `/admin/status-change`
3. æŸ¥çœ‹ç»Ÿè®¡å¡ç‰‡æ•°æ®
4. ç‚¹å‡»"å®¡æ ¸"æŒ‰é’®
5. é€‰æ‹©"é€šè¿‡"æˆ–"é©³å›"
6. å¡«å†™å®¡æ ¸æ„è§å¹¶æäº¤
7. éªŒè¯çŠ¶æ€æ›´æ–°å’Œç»Ÿè®¡å˜åŒ–

#### æµ‹è¯• 3: æƒé™éªŒè¯
1. å°è¯•ç”¨å­¦ç”Ÿè´¦å·è®¿é—® `/admin/status-change` - åº”è¯¥è¢«é˜»æ­¢
2. å°è¯•ç”¨æœªç™»å½•è´¦å·è®¿é—® `/campus/status-change` - åº”è¯¥è·³è½¬åˆ°ç™»å½•é¡µ

## âš ï¸ æ³¨æ„äº‹é¡¹

### æ•°æ®åº“ç›¸å…³
- **å¿…é¡»å…ˆåˆ›å»ºè¡¨**ï¼šæ‰€æœ‰åŠŸèƒ½ä¾èµ– `student_status_change` è¡¨
- **å­—ç¬¦é›†**ï¼šç¡®ä¿ä½¿ç”¨ utf8mb4 æ”¯æŒä¸­æ–‡
- **å¤‡ä»½**ï¼šæ‰§è¡Œå‰å»ºè®®å¤‡ä»½æ•°æ®åº“

### åç«¯ç›¸å…³
- **ä¾èµ–æ³¨å…¥**ï¼šç¡®ä¿ `StudentStatusChangeMapper` å·²æ³¨å…¥åˆ° Controller
- **é‡å¯æœåŠ¡**ï¼šä¿®æ”¹åéœ€è¦é‡å¯ Spring Boot åº”ç”¨
- **æ—¥å¿—æ£€æŸ¥**ï¼šå¯åŠ¨åæ£€æŸ¥æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯

### å‰ç«¯ç›¸å…³
- **ç¼“å­˜**ï¼šæµè§ˆå™¨å¯èƒ½ç¼“å­˜æ—§ä»£ç ï¼Œå»ºè®®æ¸…é™¤ç¼“å­˜æˆ–ä½¿ç”¨æ— ç—•æ¨¡å¼
- **APIè·¯å¾„**ï¼šç¡®ä¿å‰åç«¯ API è·¯å¾„ä¸€è‡´
- **è·¨åŸŸ**ï¼šæ£€æŸ¥åç«¯ CORS é…ç½®

### æƒé™ç›¸å…³
- **è§’è‰²å­˜åœ¨**ï¼šç¡®ä¿æ•°æ®åº“ä¸­å­˜åœ¨ ADMINã€STUDENT ç­‰è§’è‰²
- **ç”¨æˆ·è§’è‰²**ï¼šæµ‹è¯•è´¦å·éœ€è¦åˆ†é…æ­£ç¡®çš„è§’è‰²
- **æƒé™è¡¨**ï¼šå¦‚æœä½¿ç”¨æƒé™ç³»ç»Ÿï¼Œç¡®ä¿ permission è¡¨å·²åˆå§‹åŒ–

## ğŸ” æ•…éšœæ’æŸ¥

### é—®é¢˜ 1: é¡µé¢ 404
**æ£€æŸ¥**ï¼š
- è·¯ç”±æ˜¯å¦æ­£ç¡®é…ç½®
- æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®
- èœå•é¡¹ index æ˜¯å¦ä¸è·¯ç”±åŒ¹é…

### é—®é¢˜ 2: API 404 æˆ– 403
**æ£€æŸ¥**ï¼š
- åç«¯ Controller çš„ @RequestMapping è·¯å¾„
- @PreAuthorize æ³¨è§£çš„æƒé™é…ç½®
- ç”¨æˆ·æ˜¯å¦ç™»å½•ä¸”æœ‰æ­£ç¡®è§’è‰²

### é—®é¢˜ 3: è¡¨å•æäº¤å¤±è´¥
**æ£€æŸ¥**ï¼š
- æ•°æ®åº“è¡¨æ˜¯å¦å­˜åœ¨
- å­—æ®µæ˜¯å¦åŒ¹é…ï¼ˆå¤§å°å†™ã€ç±»å‹ï¼‰
- åç«¯æ—¥å¿—ä¸­çš„é”™è¯¯ä¿¡æ¯

### é—®é¢˜ 4: é¡µé¢ç™½å±æˆ–æŠ¥é”™
**æ£€æŸ¥**ï¼š
- Vue ç»„ä»¶æ˜¯å¦æ­£ç¡®å¯¼å…¥
- API æ–‡ä»¶æ˜¯å¦æ­£ç¡®å¼•å…¥
- æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯
2. æŸ¥çœ‹åç«¯æ§åˆ¶å°/æ—¥å¿—æ–‡ä»¶
3. ç¡®è®¤æ•°æ®åº“è¿æ¥æ­£å¸¸
4. éªŒè¯ç”¨æˆ·è§’è‰²å’Œæƒé™

## ğŸ¯ éªŒæ”¶æ ‡å‡†

- [ ] å­¦ç”Ÿå¯ä»¥æ­£å¸¸æäº¤å­¦ç±å¼‚åŠ¨ç”³è¯·
- [ ] å­¦ç”Ÿå¯ä»¥æŸ¥çœ‹è‡ªå·±çš„ç”³è¯·è®°å½•å’ŒçŠ¶æ€
- [ ] ç®¡ç†å‘˜å¯ä»¥æŸ¥çœ‹æ‰€æœ‰ç”³è¯·åˆ—è¡¨
- [ ] ç®¡ç†å‘˜å¯ä»¥å®¡æ ¸ï¼ˆé€šè¿‡/é©³å›ï¼‰ç”³è¯·
- [ ] ç®¡ç†å‘˜å¯ä»¥åˆ é™¤å·²å®¡æ ¸çš„ç”³è¯·
- [ ] ç»Ÿè®¡å¡ç‰‡æ­£ç¡®æ˜¾ç¤ºå„çŠ¶æ€æ•°é‡
- [ ] æœç´¢ç­›é€‰åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- [ ] æƒé™æ§åˆ¶ç”Ÿæ•ˆï¼ˆæ— æƒé™ç”¨æˆ·æ— æ³•è®¿é—®ï¼‰
- [ ] èœå•å¯¼èˆªæ­£å¸¸è·³è½¬

---

**éƒ¨ç½²æ—¥æœŸ**: 2026-01-07
**ç‰ˆæœ¬**: v1.0
**çŠ¶æ€**: å¾…éƒ¨ç½²
